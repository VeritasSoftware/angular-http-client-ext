{"version":3,"file":"angular-extended-http-client.umd.js.map","sources":["ng://angular-extended-http-client/lib/angular-extended-http-client.service.ts","ng://angular-extended-http-client/lib/angular-extended-http-client.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\n\nexport interface IObservableBase {\n    \n}\n\nexport interface IObservable<T> extends IObservableBase {\n    (subscribe: ISubscribe<T>) : void;    \n}\n\nexport interface IObservableError extends IObservableBase {\n    (error: ISubscribeError) : void;\n}\n\nexport interface IObservableCustomError<TError> extends IObservableBase {\n    (error: ISubscribeCustomError<TError>) : void;\n}\n\nexport interface ISubscribeBase {\n    ok: boolean;\n    headers: HttpHeaders;\n    status: number;\n    statusText: string;    \n}\n\nexport interface ISubscribe<T> extends ISubscribeBase {\n    ok: boolean;\n    body: T;\n    headers: HttpHeaders;\n}\n\nexport class Subscribe<T> implements ISubscribe<T> {\n    ok: boolean;\n    body: T;\n    headers: HttpHeaders;\n    status: number;\n    statusText: string;\n}\n\nexport interface ISubscribeError extends ISubscribeBase {\n    message: string;\n    status: number;\n    statusText: string;\n}\n\nexport interface ISubscribeCustomError<TError> extends ISubscribeBase {\n  error: TError;\n  message: string;\n  status: number;\n  statusText: string;\n}\n\nexport class SubscribeError implements ISubscribeError {\n    ok: boolean;\n    headers: HttpHeaders;\n    message: string;\n    status: number;\n    statusText: string;\n}\n\nexport class SubscribeCustomError<TError> implements ISubscribeCustomError<TError> {\n  ok: boolean;\n  error: TError;\n  headers: HttpHeaders;\n  message: string;\n  status: number;\n  statusText: string;\n}\n\nexport interface IHttpClientExtended {\n    get<T>(url: string, success?: IObservable<T>, failure?: IObservableError, options?: any) : Observable<HttpResponse<T>>;\n    \n    getUsingCustomError<T, TError>(url: string, success?: IObservable<T>, failure?: IObservableCustomError<TError>, options?: any) : Observable<HttpResponse<T>>;\n\n    post<TRequest, TResponse>(url: string, model: TRequest, \n                              success?: IObservable<TResponse>, \n                              failure?: IObservableError, options?: any) : Observable<HttpResponse<TResponse>>;\n\n    postUsingCustomError<TRequest, TResponse, TError>(url: string, model: TRequest, \n                                                        success?: IObservable<TResponse>, \n                                                        failure?: IObservableCustomError<TError>, options?: any) : Observable<HttpResponse<TResponse>>;                              \n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HttpClientExt implements IHttpClientExtended {\n\n  constructor(private client: HttpClient)\n  {\n  }\n\n  get<T>(url: string, success?: IObservable<T>, failure?: IObservableError, options?: any) : Observable<HttpResponse<T>> {                \n      let httpResponse = this.client.get<T>(url, options != null ? { headers: options.headers, observe: 'response' } : {observe: 'response'})\n\n      if (success != null) {\n          httpResponse\n              .subscribe(x => this.processSuccessResponse(x,success), error => this.processErrorResponse(error, failure));\n      }        \n\n      return httpResponse;                   \n  }\n\n  getUsingCustomError<T, TError>(url: string, success?: IObservable<T>, failure?: IObservableCustomError<TError>, options?: any) : Observable<HttpResponse<T>> {\n    let httpResponse = this.client.get<T>(url, options != null ? { headers: options.headers, observe: 'response' } : {observe: 'response'})\n\n      if (success != null) {\n          httpResponse\n              .subscribe(x => this.processSuccessResponse(x,success), error => this.processCustomErrorResponse(<TError>error, failure));\n      }        \n\n      return httpResponse;                   \n  }\n\n\n  post<TRequest, TResponse>(url: string, model: TRequest, \n                              success?: IObservable<TResponse>, \n                              failure?: IObservableError, options?: any) : Observable<HttpResponse<TResponse>> {                \n    let httpResponse = this.client.post<TResponse>(url, model, options != null ? \n                                                                { headers: options.headers, observe: 'response' } \n                                                                : {observe: 'response'})\n    if (success != null) {\n        httpResponse\n            .subscribe(x => this.processSuccessResponse(x,success), error => this.processErrorResponse(error, failure));\n    }        \n\n    return httpResponse;                   \n  }\n\n  postUsingCustomError<TRequest, TResponse, TError>(url: string, model: TRequest, \n                                                      success?: IObservable<TResponse>, \n                                                      failure?: IObservableCustomError<TError>, options?: any) : Observable<HttpResponse<TResponse>> {                \n    let httpResponse = this.client.post<TResponse>(url, model, options != null ? \n                                                                { headers: options.headers, observe: 'response' } \n                                                                : {observe: 'response'})\n    if (success != null) {\n        httpResponse\n            .subscribe(x => this.processSuccessResponse(x,success), error => this.processCustomErrorResponse(<TError>error, failure));\n    }        \n\n    return httpResponse;                   \n  }  \n\n  private processSuccessResponse<TResponse>(response: HttpResponse<TResponse>, success: IObservable<TResponse>) : void {\n\n    if (success != null) {\n      if (response.ok) {\n        let subscribe: Subscribe<TResponse> = new Subscribe<TResponse>();\n        subscribe.ok = response.ok;\n        subscribe.status = response.status;\n        subscribe.statusText = response.statusText;\n        subscribe.body = response.body;                        \n        subscribe.headers = response.headers;\n                \n        success(subscribe);                            \n      }                        \n    }      \n  }\n\n  private processErrorResponse(error: any, failure: IObservableError) : void {\n\n    if (failure != null) {\n      let subscribe: SubscribeError = new SubscribeError();\n      subscribe.ok = false;\n      subscribe.headers = error.headers;\n      subscribe.message = error.message;\n      subscribe.status = error.status;\n      subscribe.statusText = error.statusText;\n\n      failure(subscribe);\n    }      \n  }\n\n  private processCustomErrorResponse<TError>(error: any, failure: IObservableCustomError<TError>) : void {\n\n    if (failure != null) {\n      debugger;\n      let subscribe: SubscribeCustomError<TError> = new SubscribeCustomError();\n      subscribe.ok = false;\n      if (error.error) {\n        subscribe.error = error.error;\n      }        \n      subscribe.headers = error.headers;\n      subscribe.message = error.message;\n      subscribe.status = error.status;\n      subscribe.statusText = error.statusText;\n\n      failure(subscribe);\n    }      \n  }  \n}","import { NgModule } from '@angular/core';\n//import { AngularExtendedHttpClientComponent } from './angular-extended-http-client.component';\n\nimport { HttpClientExt } from '../lib/angular-extended-http-client.service';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  imports: [ HttpClientModule ],\n  providers: [ HttpClientExt ]  \n})\nexport class HttpClientExtModule { }\n"],"names":["Injectable","HttpClient","NgModule","HttpClientModule"],"mappings":"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"}
